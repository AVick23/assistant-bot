import os
import logging
from dotenv import load_dotenv

load_dotenv()

# Токен бота
BOT_TOKEN = os.getenv("BOT_TOKEN")
if not BOT_TOKEN:
    raise ValueError("❌ Токен BOT_TOKEN не найден в .env файле!")

# ID администратора
ADMIN_USER_ID = 1373472999

# Файлы для хранения данных
CONSULTATIONS_FILE = "consultations.json"
UNKNOWN_FILE = "unknown_questions.json"
FEEDBACK_FILE = "feedback.json"

# URL для кнопок
CALENDAR_URL = "https://calendar.app.google/ThpteAc5uqhxqnUA9"
SITE_URL = "https://avick23.github.io/Business-card/"
ROADMAPS = {
    "python": "https://avick23.github.io/roadmap_python/",
    "backend": "https://avick23.github.io/roadmap_backend/",
    "golang": "https://avick23.github.io/roadmap_golang/",
    "devops": "https://avick23.github.io/roadmap_devops/"
}

# Настройки поиска и интерфейса
ITEMS_PER_PAGE = 5          # количество элементов на странице в админке
MAX_HISTORY_LENGTH = 5      # длина истории сообщений пользователя
INACTIVITY_LIMIT_HOURS = 24 # через сколько часов неактивности очищать контекст

# Пороги для принятия решений (эмпирические)
SCORE_DIRECT_ANSWER = 3.5   # если общий балл выше — сразу даём ответ
SCORE_CLARIFY = 1.5         # если балл выше этого, но ниже прямого — предлагаем уточнить
MIN_FULLTEXT_SCORE = 0.15   # минимальный балл для включения в результаты fulltext-поиска

# Логирование
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# NLP: стоп-слова и синонимы (перенесены из основного кода)
RUSSIAN_STOPWORDS = {
    'и', 'в', 'во', 'не', 'что', 'он', 'на', 'я', 'с', 'со', 'как', 'а', 'то', 'все', 'она', 'так', 'его', 'но', 'да', 'ты', 'к', 'у', 'же', 'вы', 'за', 'бы', 'по', 'только', 'ее', 'мне', 'было', 'вот', 'от', 'меня', 'еще', 'нет', 'о', 'из', 'ему', 'теперь', 'когда', 'даже', 'ну', 'уже', 'всего', 'всё', 'быть', 'будет', 'сказал', 'этот', 'это', 'здесь', 'тот', 'там', 'где', 'который', 'которая', 'которые', 'их', 'этого', 'этой', 'этому', 'этим', 'эти', 'этих', 'ваш', 'ваша', 'ваше', 'вашего', 'вашей', 'какой', 'какая', 'какое', 'какие', 'какого', 'каком', 'какими', 'мы', 'наш', 'наша', 'наше', 'мой', 'моя', 'моё', 'мои', 'твой', 'твоя', 'твоё', 'твои', 'сам', 'сама', 'само', 'сами', 'тот', 'та', 'то', 'те', 'чей', 'чья', 'чьё', 'чьи', 'кто', 'что', 'где', 'куда', 'откуда', 'когда', 'почему', 'зачем', 'как', 'либо', 'нибудь', 'также', 'потому', 'чтобы', 'который', 'свой', 'своя', 'своё', 'свои', 'самый', 'самая', 'самое', 'самые', 'или', 'ну', 'эх', 'ах', 'ох', 'без', 'над', 'под', 'перед', 'после', 'между', 'через', 'чтобы', 'ради', 'для', 'до', 'после', 'около', 'возле', 'рядом', 'мимо', 'вокруг', 'против', 'за', 'надо', 'нужно', 'может', 'можно', 'должен', 'должна', 'должно', 'должны', 'хочу', 'хочешь', 'хочет', 'хотим', 'хотите', 'хотят', 'буду', 'будешь', 'будет', 'будем', 'будете', 'будут', 'хотя', 'если', 'пока', 'чтоб', 'зато', 'итак', 'также', 'тоже'
}

SYNONYMS = {
    'стоимость': ['цена', 'тариф', 'плата', 'расценка', 'сколько стоит'],
    'курс': ['обучение', 'программа', 'тренинг'],
    'преподаватель': ['учитель', 'репетитор', 'тренер', 'лектор', 'алексей', 'avick23'],
    'занятие': ['урок', 'лекция', 'пара', 'встреча'],
    'группа': ['команда', 'коллектив', 'мини-группа'],
    'метод': ['подход', 'техника', 'стратегия', 'выстраданного познания', 'система'],
    'домашка': ['задание', 'дз', 'практика'],
    'бот': ['чат-бот', 'ассистент', 'помощник', 'прогресс', 'прогрессбот', 'прогресс бот'],
    'python': ['питон', 'пайтон'],
    'программирование': ['кодинг', 'разработка', 'it'],
    'вопрос': ['запрос', 'проблема', 'тема'],
    'ответ': ['решение', 'отклик'],
    'начать': ['стартовать', 'приступить'],
    'записаться': ['зарегистрироваться', 'подписаться', 'хочу учиться'],
    'сложный': ['трудный', 'замысловатый', 'запутанный'],
    'легкий': ['простой', 'нетрудный'],
    'быстро': ['скорость', 'оперативно', 'в срок'],
    'долго': ['медленно', 'затянуто'],
    'качество': ['уровень', 'стандарт'],
    'консультация': ['встреча', 'совет', 'помощь', 'бесплатная встреча'],
    'доступ': ['получение', 'возможность'],
    'материалы': ['уроки', 'лекции', 'ресурсы', 'дорожная карта', 'roadmap'],
    'поддержка': ['помощь', 'сопровождение', 'причал', 'сообщество'],
    'экосистема': ['система', 'прогресс', 'прогресс+', 'прогресс плюс'],
    'причал': ['сообщество', 'чат', 'поддержка'],
    'roadmap': ['дорожная карта', 'карта развития', 'план']
}